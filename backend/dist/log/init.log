2024/11/18 16:34:45 Database connection successful
2024/11/18 16:34:45 successfully executed SQL statement: USE test
2024/11/18 16:34:45 failed to initialize the database: failed to execute SQL statement: Error 1050 (42S01): Table 'warehouse' already exists
2024/11/21 18:56:30 Database connection failure: Error 1698 (28000): Access denied for user 'root'@'localhost'
2024/11/21 19:02:00 Database connection failure: Error 1049 (42000): Unknown database 'test'
2024/11/21 19:02:23 Database connection failure: Error 1049 (42000): Unknown database 'test'
2024/11/21 19:02:33 Database connection failure: Error 1049 (42000): Unknown database 'test'
2024/11/21 19:03:39 Database connection successful
2024/11/21 19:03:39 successfully executed SQL statement: USE test
2024/11/21 19:03:39 successfully executed SQL statement: -- 仓库表
CREATE TABLE warehouse (
    warehouse_id INT AUTO_INCREMENT PRIMARY KEY,
    warehouse_name VARCHAR(255) NOT NULL,
    location VARCHAR(255) NOT NULL,
    status ENUM('active', 'inactive') DEFAULT 'active',
    capacity INT NOT NULL DEFAULT 0
)
2024/11/21 19:03:39 successfully executed SQL statement: -- 货物表
CREATE TABLE goods (
    goods_id INT AUTO_INCREMENT PRIMARY KEY,
    goods_name VARCHAR(255) NOT NULL,
    goods_type VARCHAR(100) NOT NULL,
    owner_id INT NOT NULL,
    price DECIMAL(10, 2) NOT NULL,
    quantity INT NOT NULL,
    warehouse_id INT,
    FOREIGN KEY (warehouse_id) REFERENCES warehouse(warehouse_id)
)
2024/11/21 19:03:39 successfully executed SQL statement: -- 入库日志表
CREATE TABLE inbound_log (
    log_id INT AUTO_INCREMENT PRIMARY KEY,
    goods_id INT NOT NULL,
    quantity INT NOT NULL,
    price DECIMAL(10, 2) NOT NULL,
    warehouse_id INT NOT NULL,
    owner_id INT NOT NULL,
    inbound_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (goods_id) REFERENCES goods(goods_id),
    FOREIGN KEY (warehouse_id) REFERENCES warehouse(warehouse_id)
)
2024/11/21 19:03:39 successfully executed SQL statement: -- 出库日志表
CREATE TABLE outbound_log (
    log_id INT AUTO_INCREMENT PRIMARY KEY,
    goods_id INT NOT NULL,
    quantity INT NOT NULL,
    price DECIMAL(10, 2) NOT NULL,
    warehouse_id INT NOT NULL,
    owner_id INT NOT NULL,
    outbound_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (goods_id) REFERENCES goods(goods_id),
    FOREIGN KEY (warehouse_id) REFERENCES warehouse(warehouse_id)
)
2024/11/21 19:03:39 successfully executed SQL statement: -- 货物价格历史表
CREATE TABLE goods_price_history (
    price_id INT AUTO_INCREMENT PRIMARY KEY,
    goods_id INT NOT NULL,
    old_price DECIMAL(10, 2) NOT NULL,
    new_price DECIMAL(10, 2) NOT NULL,
    change_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (goods_id) REFERENCES goods(goods_id)
)
2024/11/21 19:03:39 Database initialization succeeded
2024/11/21 19:04:36 Database connection failure: Error 1049 (42000): Unknown database 'test'
2024/11/21 19:04:49 Database connection failure: Error 1049 (42000): Unknown database 'test'
2024/11/21 19:05:33 Database connection successful
2024/11/21 19:05:33 successfully executed SQL statement: CREATE DATABASE test
2024/11/21 19:05:33 successfully executed SQL statement: USE test
2024/11/21 19:05:33 successfully executed SQL statement: -- 仓库表
CREATE TABLE warehouse (
    warehouse_id INT AUTO_INCREMENT PRIMARY KEY,
    warehouse_name VARCHAR(255) NOT NULL,
    location VARCHAR(255) NOT NULL,
    status ENUM('active', 'inactive') DEFAULT 'active',
    capacity INT NOT NULL DEFAULT 0
)
2024/11/21 19:05:33 successfully executed SQL statement: -- 货物表
CREATE TABLE goods (
    goods_id INT AUTO_INCREMENT PRIMARY KEY,
    goods_name VARCHAR(255) NOT NULL,
    goods_type VARCHAR(100) NOT NULL,
    owner_id INT NOT NULL,
    price DECIMAL(10, 2) NOT NULL,
    quantity INT NOT NULL,
    warehouse_id INT,
    FOREIGN KEY (warehouse_id) REFERENCES warehouse(warehouse_id)
)
2024/11/21 19:05:33 successfully executed SQL statement: -- 入库日志表
CREATE TABLE inbound_log (
    log_id INT AUTO_INCREMENT PRIMARY KEY,
    goods_id INT NOT NULL,
    quantity INT NOT NULL,
    price DECIMAL(10, 2) NOT NULL,
    warehouse_id INT NOT NULL,
    owner_id INT NOT NULL,
    inbound_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (goods_id) REFERENCES goods(goods_id),
    FOREIGN KEY (warehouse_id) REFERENCES warehouse(warehouse_id)
)
2024/11/21 19:05:33 successfully executed SQL statement: -- 出库日志表
CREATE TABLE outbound_log (
    log_id INT AUTO_INCREMENT PRIMARY KEY,
    goods_id INT NOT NULL,
    quantity INT NOT NULL,
    price DECIMAL(10, 2) NOT NULL,
    warehouse_id INT NOT NULL,
    owner_id INT NOT NULL,
    outbound_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (goods_id) REFERENCES goods(goods_id),
    FOREIGN KEY (warehouse_id) REFERENCES warehouse(warehouse_id)
)
2024/11/21 19:05:33 successfully executed SQL statement: -- 货物价格历史表
CREATE TABLE goods_price_history (
    price_id INT AUTO_INCREMENT PRIMARY KEY,
    goods_id INT NOT NULL,
    old_price DECIMAL(10, 2) NOT NULL,
    new_price DECIMAL(10, 2) NOT NULL,
    change_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (goods_id) REFERENCES goods(goods_id)
)
2024/11/21 19:05:33 Database initialization succeeded
